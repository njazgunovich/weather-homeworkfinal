<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Hello, world!</title>
</head>

<body class="d-flex flex-column">
    <section class="container-fluid bg-secondary pb-4">
        <h1 class="text-center">Weather Dashboard</h1>
    </section>
    <section>
        <div class="row">
            <div class="col-4 pl-5">
                <div class="pb-2">
                    <h3>Search for City:</h3>
                    <form class="form-inline" id="submitId">
                        <input type="text" class="form-control" id="pwd">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
                <ul class="list-group">
                    <li class="list-group-item">Austin</li>
                    <li class="list-group-item">Chicago</li>
                    <li class="list-group-item">New York</li>
                    <li class="list-group-item">Orlando</li>
                    <li class="list-group-item">San Francisco</li>
                    <li class="list-group-item">Seattle</li>
                    <li class="list-group-item">Denver</li>
                    <li class="list-group-item">Atlanta</li>
                </ul>
            </div>
            <div class="col-7 offset-1">
                <div class="row">
                    <div id="newcity" class="col-12">
                        <p>Temperature</p>
                        <p>Humidity</p>
                        <p>Wind Speed</p>
                        <p>UV Index</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 pr-5">
                        <h2>5-Day Forcast</h2>
                        <div class="card-deck">
                            <div class="card bg-primary">
                                <div class="card-body text-center">
                                    <p class="card-text">Some text inside the first card</p>
                                </div>
                            </div>
                            <div class="card bg-warning">
                                <div class="card-body text-center">
                                    <p class="card-text">Some text inside the second card</p>
                                </div>
                            </div>
                            <div class="card bg-success">
                                <div class="card-body text-center">
                                    <p class="card-text">Some text inside the third card</p>
                                </div>
                            </div>
                            <div class="card bg-danger">
                                <div class="card-body text-center">
                                    <p class="card-text">Some text inside the fourth card</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script> -->



    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        console.log('hello');
        // fetch('https://api.openweathermap.org/data/2.5/forecast?q=Miami&appid=35be03c124fd4ec5e5148103343ed928')
        //     .then(response => {
        //         // network failure, request prevented
        //         if (response.status >= 200 && response.status < 300) {
        //             return Promise.resolve(response);
        //         }


        //         return Promise.reject(new Error(response.statusText));
        //     })
        //     .then(response => response.json())
        //     .then(result => {
        //         console.log(result);
        //     })
        //     .catch(error => {
        //         // common error
        //         return null;
        //     });
        // 24*60*60

        $(document).ready(function() {


            $('#submitId').submit(function(e) {
                e.preventDefault();
                console.log($('#pwd').val());

                let city = $('#pwd').val();

                $.get(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&units=imperial&appid=35be03c124fd4ec5e5148103343ed928`, function(data, status) {
                    console.log(data);
                    console.log(data.list[0].main.temp);
                    let newCity = data.city.name;
                    let temp = data.list[0].main.temp;
                    let humidity = data.list[0].main.humidity;
                    let windSpeed = data.list[0].wind.speed;

                    $("#newcity").append(`<h1>${newCity}</h1>`);


                });

            });
        });
    </script>
</body>

</html>